openapi: 3.0.2
info:
  title: bookings
  version: 1.0.0
paths: {}
components:
  schemas:
    CartsConfirmRequest:
      type: object
      properties:
        base_data:
          type: object
          properties:
            cnt_language:
              description: ISO 639, Language of the text content.
              type: string
              example: "en"
            currency:
              description: ISO 4217, The currency with which you would like to pay.
              type: string
              example: "EUR"
        data:
          type: object
          properties:
            booking:
              type: object
              properties:
                shopping_cart:
                  type: object
                  properties:
                    shopping_cart_id:
                      $ref: '../commons.yaml#/components/schemas/ShoppingCartId'
                    billing:
                      $ref: '#/components/schemas/Billing'
                    traveler:
                      $ref: '#/components/schemas/Traveler'
                    payment:
                      oneOf:
                        - $ref: './payment.yaml#/components/schemas/Paypal'
                        - $ref: './payment.yaml#/components/schemas/EncryptedCreditCard'

    CartsConfirmResponse:
      type: object
      properties:
        shopping_cart_id:
          $ref: '../commons.yaml#/components/schemas/ShoppingCartId'
        shopping_cart_hash:
          $ref: '../commons.yaml#/components/schemas/ShoppingCartHash'
        billing:
          $ref: '#/components/schemas/Billing'
        traveler:
          $ref: '#/components/schemas/Traveler'
        status:
          type: string
          description: The status of the shopping cart.
          enum: ['invalid', 'open', 'in_payment', 'completed']
          example: completed
        bookings:
          $ref: '../bookings.yaml#/components/schemas/Bookings'
        payment_info:
          $ref: '#/components/schemas/PaymentInfo'

    PaymentInfo:
      type: object
      properties:
        payment_currency:
          type: string
          description: The currency in which the payment has been processed.
          example: ERU
        total_price:
          type: number
          description: The total price of the shopping cart.
          example: 209.78
        precoupon_price:
          type: number
          description: The price of the shopping cart before coupons have been applied.
          example: 209.78
        payment_method:
          type: string
          description: The payment method used to pay.
          enum: ['cc', 'pp', 'dd', 'co', 'mb', 'mx', 'n/a']
          example: cc
        coupon_info:
          type: string
          description: The code of the coupon if one was used.
          example: test
        invoice_reference:
          type: string
          description: The invoice reference number.
          example: GCI-0032724458
    
    Billing:
      type: object
      properties:
        salutation_code:
          type: string
          description: Salutation code. m=Mr. f=Mrs. c=empty
          enum: [m, f, c]
          example: m
        first_name:
          type: string
          description: The first name
          example: Test
        last_name: 
          type: string
          description: The last name
          example: Booking
        email:
          type: string
          description: Correspondence email.
          example: abc@efgh.com
        is_company: 
          type: boolean
          description: Is the payee a company.
          example: false
        company_name: 
          type: string
          description: Name of the company.
          example: Company Name
        invoice:
          type: boolean
          description: Correspondence email.
          example: false
        address_line_1:
          type: string
          description: Address line 1.
          example: Address line 1.
        address_line_2: 
          type: string
          description: Address line 2.
          example: Address line 2.
        city: 
          type: string
          description: The city.
          example: Berlin
        postal_code: 
          type: string
          description: Postal code.
          example: '12345'
        state: 
          type: string
          description: State
          example: NYC
        country_code:
          type: string
          description: Country code.
          example: DE
        phone_number: 
          type: string
          description: Phone number.
          example: 0049 123456789

    Traveler:
      type: object
      properties:
        salutation_code:
          type: string
          description: Salutation code. m=Mr. f=Mrs. c=empty
          enum: [m, f, c]
          example: m
        first_name:
          type: string
          description: The first name
          example: Test
        last_name: 
          type: string
          description: The last name
          example: Booking
        email:
          type: string
          description: Correspondence email.
          example: abc@efgh.com
        phone_number: 
          type: string
          description: Phone number.
          example: 0049 123456789
    