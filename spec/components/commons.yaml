openapi: 3.0.2
info:
  title: Common components
  version: 1.0.0
components:

  parameters:
  # IN PATH 
    version:
      name: version
      description: The version of the API of which you want to get the configuration.
      in: path
      required: true
      schema:
        type: string
    bookingHash:
      name: booking_hash
      description: Booking hash
      required: true
      in: path
      schema:
        type: string
    shoppingCartHash:
      name: shopping_cart_hash
      description: The hash of the shopping cart.
      required: true
      in: path
      schema:
        type: string
  
  # IN QUERY
    cntLanguage:
      name: cnt_language
      description: ISO 639, Language of the text content.
      in: query
      required: true
      schema:
        type: string
    currency:
      name: currency
      description: ISO 4217, The currency with which you would like to pay.
      in: query
      required: true
      schema:
        type: string
    country:
      name: country
      description: ISO 3166-1, The country where to payment originates. Should be the same value as the country_code field of the Billing Address Object.
      in: query
      required: true
      schema:
        type: string
    externalReferenceId:
      name: external_reference_id
      description: The external reference ID. The reseller can supply a reference number under which this booking is referenced in his system. This field contains that number. Maximum length is 255.
      required: false
      in: query
      schema:
        type: string
    preformatted:
      name: preformatted
      description: The amount of content to deliver with the search results.
      required: false
      in: query
      schema:
        type: string
    q:
      name: q
      description: Query string, can be location name or IATA code.
      required: false
      in: query
      schema:
        type: string
    coordinates:
      name: coordinates
      description: Latitude, longitude and radius as array. Latitude must be between -90 and 90, longitude must be between -180 and 180, radius must be between 0 and 150 (considered km).
      required: false
      in: query
      schema:
        type: array
    date:
      name: date
      description: Check for tours that are offered on date or between dates. The date and time in the format is `Y-m-d T H:i:s` The first date passed is the beginning of the time range, the second is the ending of the time range. i.e. `&date[]=2017-10-01T00:00:00&date[]=2017-10-01T23:59:59` 
      required: false
      in: query
      schema:
        type: array

  schemas:
    ShoppingCartId:
      name: shopping_cart_id
      description: The ID of the shopping cart.
      type: number
      example: 32724458
    ShoppingCartHash:
      name: shopping_cart_hash
      description: The hash of the shopping cart.
      type: string
      example: '0ESFMXPUANBNSGAOSLR4JWCOD7S4P18K'
    BookingId:
      description: The id of the booking.
      type: number
      example: 13822240
    BookingHash:
      description: The hash of the booking. This identifies the booking.
      type: string
      example: 'WTLDAJ2S335O539FV3YCGZ0JMOCSTB5M'
    BookingStatus:
      description: The status of the booking.
      type: string
      enum: [temp, unconfirmed, confirmed, deleted, canceled, deleted_by_customer, deleted_by_daemon]
      example: 'temp'
    ReturnCode:
      description: The return code of the booking service.
      type: number
      example: 0
    TourId:
      name: tour_id
      description: The ID of the tour.
      type: number
      example: 50872
    OptionId:
      name: option_id
      description: The ID of the tour option.
      type: number
      example: 69232
    Datetime:
      name: datetime
      type: string
      example: "2017-09-01T00:00:00"
    DatetimeUTC:
      name: datetime_utc
      description: The datetime in UTC of when the activity dates place.
      type: string
      example: "2017-09-01T04:00:00Z"
    DatetimeType:
      name: datetime_type
      description: Is the datetime a date or a datetime. This is needed as some activities only have a day on which they take place.
      type: string
      enum: [date, datetime]
      example: 'date'
    Price:
      name: price
      description: The price of the activity described in this bookable. You will have to calculate reduced prices yourself. The discount as a percentage value, if present, is retrieved from the options/availabilities endpoint.
      type: number
      format: double
      example: 270
    CancellationPolicyText:
      name: cancellation_policy_text
      description: Cancellation policy
      type: string
      example: Your activity is non-refundable,
    CurrentlyCancellableAtNoFee:
      name: currently_cancellable_at_no_fee
      description: Indicates whether this booking is currently cancellable at no fee.
      type: boolean
      example: true
    BookingParameters:
      type: array
      items:
        type: object
        properties:
          name:
            type: string
            description: Name of the property
            enum: [language, hotel, comment, supplier_requested_question]
            example: language
          value_1:
            type: string
            description: First / Primary value of the property
            example: language_live
          value_2:
            type: string
            description: The language property requires a second value (e.g. value_1 = language_live, value_2 = en).
            example: en
          mandatory:
            type: boolean
            description: The mandatory booking parameters can be retrieved from the options endpoint
            example: false
